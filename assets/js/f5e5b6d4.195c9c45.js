"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4262],{874:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var a=n(5893),i=n(1151),t=n(9705);const l={title:"REPL",sidebar_position:8},r=void 0,c={id:"commands/repl",title:"REPL",description:"The repl command starts a Scala REPL, which lets you interactively run your code and inspect its results:",source:"@site/docs/commands/repl.md",sourceDirName:"commands",slug:"/commands/repl",permalink:"/docs/commands/repl",draft:!1,unlisted:!1,editUrl:"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/commands/repl.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"REPL",sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Test",permalink:"/docs/commands/test"},next:{title:"IDE Setup",permalink:"/docs/commands/setup-ide"}},o={},d=[{value:"Using Toolkit in REPL",id:"using-toolkit-in-repl",level:2},{value:"Inject code as JAR file in class path",id:"inject-code-as-jar-file-in-class-path",level:2}];function h(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.p,{children:["The ",(0,a.jsx)(s.code,{children:"repl"})," command starts a Scala REPL, which lets you interactively run your code and inspect its results:"]}),"\n",(0,a.jsxs)(t.v,{children:[(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli repl\n"})}),(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-text",children:'scala> println("Hello Scala")\nHello Scala\n\nscala> :exit\n'})})]}),"\n",(0,a.jsx)(s.p,{children:"Scala CLI by default uses the normal Scala REPL."}),"\n",(0,a.jsxs)(s.p,{children:["If you prefer to use the ",(0,a.jsx)(s.a,{href:"https://ammonite.io/#Ammonite-REPL",children:"Ammonite REPL"}),", specify ",(0,a.jsx)(s.code,{children:"--amm"})," to launch it rather than the default REPL:"]}),"\n",(0,a.jsxs)(s.admonition,{type:"caution",children:[(0,a.jsxs)(s.p,{children:["Using the Ammonite REPL is restricted and requires setting the ",(0,a.jsx)(s.code,{children:"--power"})," option to be used.\nYou can pass it explicitly or set it globally by running:"]}),(0,a.jsx)(s.p,{children:"scala-cli config power true"})]}),"\n",(0,a.jsxs)(t.v,{children:[(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power repl --amm\n"})}),(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-text",children:'Loading...\nWelcome to the Ammonite Repl 2.4.0-23-76673f7f (Scala 3.0.2 Java 11.0.11)\n@ println("Hello ammonite")\nHello ammonite\n@ exit\nBye!\n'})})]}),"\n",(0,a.jsxs)(s.p,{children:["The ",(0,a.jsx)(s.code,{children:"repl"})," command accepts the same arguments as the ",(0,a.jsx)(s.a,{href:"/docs/commands/compile",children:"compile"})," command. It first compiles any provided sources, and then exposes those results and any provided dependencies to the REPL session:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-scala",metastring:"title=mylibrary/Messages.scala",children:'package mylibrary\n\nobject Messages {\n  def message = "Hello"\n  def print(): Unit = println(message)\n}\n'})}),"\n",(0,a.jsxs)(t.v,{children:[(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli repl mylibrary/Messages.scala\n"})}),(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-text",children:"Compiling project (Scala 3.0.2, JVM)\nCompiled project (Scala 3.0.2, JVM)\nscala> import mylibrary._\n\nscala> Messages.print()\nHello\n\nscala> :quit\n"})})]}),"\n",(0,a.jsx)(s.h2,{id:"using-toolkit-in-repl",children:"Using Toolkit in REPL"}),"\n",(0,a.jsxs)(s.p,{children:["It is also possible to start the scala-cli REPL with ",(0,a.jsx)(s.a,{href:"https://scala-cli.virtuslab.org/docs/guides/introduction/toolkit/",children:"toolkit"})," enabled"]}),"\n",(0,a.jsxs)(t.v,{children:[(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli repl --toolkit default\n"})}),(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-text",children:"Welcome to Scala 3.3.1 (17, Java OpenJDK 64-Bit Server VM).\nType in expressions for evaluation. Or try :help.\n                                                                                \nscala> import os._\n                                                                                \nscala> os.pwd\nval res0: os.Path = /Users/yadukrishnan/test\nscala> :quit\n\n"})})]}),"\n",(0,a.jsxs)(s.p,{children:["Since we started the repl with toolkit enabled, we can use the libraries included in the toolkit directly. In the above example, the ",(0,a.jsx)(s.code,{children:"os-lib"})," library from the toolkit is used to print the current path."]}),"\n",(0,a.jsx)(s.h2,{id:"inject-code-as-jar-file-in-class-path",children:"Inject code as JAR file in class path"}),"\n",(0,a.jsxs)(s.p,{children:["If your application inspects its class path, and requires only JAR files in it, use ",(0,a.jsx)(s.code,{children:"--as-jar"})," to\nput the Scala CLI project in the class path as a JAR file rather than as a directory:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli repl Foo.scala --as-jar\n"})})]})}function p(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},9705:(e,s,n)=>{n.d(s,{m:()=>l,v:()=>t});n(7294);var a=n(2004),i=n(5893);function t(e){let{children:s}=e;return(0,i.jsx)("div",{className:"runnable-command",children:s})}function l(e){let{url:s}=e;return(0,i.jsx)(a.Z,{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:s})}}}]);